/**
 * frontend.js
 *
 * @author Your Inspiration Themes
 * @package YITH WooCommerce Quick View
 * @version 1.0.0
 */
jQuery(document).ready(function(t){"use strict";if("undefined"!=typeof yith_qv){var i=t(document).find("#yith-quick-view-modal"),n=i.find(".yith-quick-view-overlay"),o=i.find("#yith-quick-view-content"),e=i.find("#yith-quick-view-close"),a=i.find(".yith-wcqv-wrapper"),d=a.width(),c=a.height(),u=function(){var i=t(window).width(),n=t(window).height(),o=i-60>d?d:i-60,e=n-120>c?c:n-120;a.css({left:i/2-o/2,top:n/2-e/2,width:o+"px",height:e+"px"})};t.fn.yith_quick_view=function(){t(document).off("click",".yith-wcqv-button").on("click",".yith-wcqv-button",function(n){n.preventDefault();var o=t(this),e=o.data("product_id"),a=!1;void 0!==yith_qv.loader&&(a=!0,o.block({message:null,overlayCSS:{background:"#fff url("+yith_qv.loader+") no-repeat center",opacity:.5,cursor:"none"}}),i.hasClass("loading")||i.addClass("loading"),t(document).trigger("qv_loading")),r(o,e,a)})};var r=function(n,e,a){t.ajax({url:yith_qv.ajaxurl,data:{action:"yith_load_product_quick_view",product_id:e},dataType:"html",type:"POST",success:function(e){o.html(e),yith_qv.is2_2&&o.find("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").addClass("buttons_added").append('<input type="button" value="+" class="plus" />').prepend('<input type="button" value="-" class="minus" />');var d=o.find(".variations_form");d.each(function(){t(this).wc_variation_form(),void 0!==t.fn.yith_wccl&&t(this).yith_wccl()}),d.trigger("check_variations"),d.trigger("reset_image"),void 0!==t.fn.prettyPhoto&&o.find("a[data-rel^='prettyPhoto'], a.zoom").prettyPhoto({hook:"data-rel",social_tools:!1,theme:"pp_woocommerce",horizontal_padding:20,opacity:.8,deeplinking:!1}),i.hasClass("open")||(i.removeClass("loading").addClass("open"),a&&n.unblock()),t(document).trigger("qv_loader_stop")}})};!function(){n.on("click",function(t){a()}),t(document).keyup(function(t){27===t.keyCode&&a()}),e.on("click",function(t){t.preventDefault(),a()});var a=function(){i.removeClass("open").removeClass("loading"),setTimeout(function(){o.html("")},1e3)}}(),u(),t(window).on("resize",u),t.fn.yith_quick_view(),t(document).on("yith_infs_adding_elem yith-wcan-ajax-filtered",function(){t.fn.yith_quick_view()})}});